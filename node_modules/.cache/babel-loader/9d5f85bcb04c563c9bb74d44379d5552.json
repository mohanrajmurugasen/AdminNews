{"ast":null,"code":"import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import EditIcon from'@material-ui/icons/Edit';import DeleteIcon from'@material-ui/icons/Delete';import{Button}from'@material-ui/core';import Modal from'@material-ui/core/Modal';import Backdrop from'@material-ui/core/Backdrop';import Fade from'@material-ui/core/Fade';import authAxios from'src/interceptors/interceptor';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({modal:{display:'flex',alignItems:'center',justifyContent:'center'},paper:{backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)},table:{minWidth:650}}));export default function CategoryTable(){const classes=useStyles();const[open,setOpen]=React.useState(false);const[modals,setmodals]=useState('');const[id,setid]=useState(null);const[rowid,setrowid]=useState(null);const[values,setvalues]=useState([]);const[name,setname]=useState('');const handleOpen=x=>{setid(x);setOpen(true);setmodals('delete');};const handleOpen1=(x,y)=>{setrowid(x);setname(y);setOpen(true);setmodals('edit');};const handleClose=()=>{setOpen(false);};const handleClose2=()=>{authAxios.delete(\"deleteCategory/\".concat(id)).then(res=>{// alert(res.data)\nsetOpen(false);});};const handleClose3=()=>{authAxios.put(\"updateCategory/\".concat(rowid),{name}).then(res=>{alert(res.data);setOpen(false);});};useEffect(()=>{const fetch=async()=>{await authAxios.get('allCategory').then(res=>{setvalues(res.data);}).catch(err=>{console.error(err.message);});};fetch();},[]);return/*#__PURE__*/_jsxs(TableContainer,{component:Paper,children:[/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:values.sort((a,b)=>a.id>b.id?1:-1).map(row=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.id}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",style:{textTransform:'capitalize'},children:row.name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(EditIcon,{onClick:()=>handleOpen1(row.id,row.name),color:\"primary\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DeleteIcon,{onClick:()=>handleOpen(row.id),color:\"secondary\"})})]})})]},row.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modals\",children:/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{style:{width:'40%'},in:open,children:modals==='delete'?/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(\"h2\",{id:\"transition-modal-title\",children:\"Are you sure ?\"}),/*#__PURE__*/_jsx(\"p\",{id:\"transition-modal-description\",children:\"You want be able to revert this!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"deletess\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'red'},onClick:handleClose2,variant:\"contained\",color:\"primary\",children:\"Yes delete it?\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,variant:\"contained\",color:\"primary\",children:\"Cancel\"})})]})]}):modals==='edit'?/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(\"h2\",{id:\"transition-modal-title\",children:\"Edit Category\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"middle\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:'text',value:name,onChange:e=>setname(e.target.value),placeholder:\"Enter name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"deletess\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{onClick:handleClose3,variant:\"contained\",color:\"primary\",children:\"Save\"})]})]}):null})})})]});}","map":{"version":3,"sources":["/Users/apple/Desktop/Projects/NewsApplication/AdminNews/src/views/base/newscategory/CategoryTable.js"],"names":["React","useEffect","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","EditIcon","DeleteIcon","Button","Modal","Backdrop","Fade","authAxios","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","table","minWidth","CategoryTable","classes","open","setOpen","modals","setmodals","id","setid","rowid","setrowid","values","setvalues","name","setname","handleOpen","x","handleOpen1","y","handleClose","handleClose2","delete","then","res","handleClose3","put","alert","data","fetch","get","catch","err","console","error","message","sort","a","b","map","row","textTransform","timeout","width","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { Button } from '@material-ui/core'\nimport Modal from '@material-ui/core/Modal'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport Fade from '@material-ui/core/Fade'\nimport authAxios from 'src/interceptors/interceptor'\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  table: {\n    minWidth: 650,\n  },\n}))\n\nexport default function CategoryTable() {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false)\n  const [modals, setmodals] = useState('')\n  const [id, setid] = useState(null)\n  const [rowid, setrowid] = useState(null)\n  const [values, setvalues] = useState([])\n  const [name, setname] = useState('')\n\n  const handleOpen = (x) => {\n    setid(x)\n    setOpen(true)\n    setmodals('delete')\n  }\n  const handleOpen1 = (x, y) => {\n    setrowid(x)\n    setname(y)\n    setOpen(true)\n    setmodals('edit')\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleClose2 = () => {\n    authAxios.delete(`deleteCategory/${id}`).then((res) => {\n      // alert(res.data)\n      setOpen(false)\n    })\n  }\n\n  const handleClose3 = () => {\n    authAxios.put(`updateCategory/${rowid}`, { name }).then((res) => {\n      alert(res.data)\n      setOpen(false)\n    })\n  }\n\n  useEffect(() => {\n    const fetch = async () => {\n      await authAxios\n        .get('allCategory')\n        .then((res) => {\n          setvalues(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n    }\n    fetch()\n  }, [])\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\">#</TableCell>\n            <TableCell align=\"center\">Name</TableCell>\n            <TableCell align=\"center\">Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {values\n            .sort((a, b) => (a.id > b.id ? 1 : -1))\n            .map((row) => (\n              <TableRow key={row.id}>\n                <TableCell align=\"center\">{row.id}</TableCell>\n                <TableCell align=\"center\" style={{ textTransform: 'capitalize' }}>\n                  {row.name}\n                </TableCell>\n                <TableCell align=\"center\">\n                  <div className=\"action\">\n                    <div>\n                      <EditIcon onClick={() => handleOpen1(row.id, row.name)} color=\"primary\" />\n                    </div>\n                    <div>\n                      <DeleteIcon onClick={() => handleOpen(row.id)} color=\"secondary\" />\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n      <div className=\"modals\">\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          className={classes.modal}\n          open={open}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500,\n          }}\n        >\n          <Fade style={{ width: '40%' }} in={open}>\n            {modals === 'delete' ? (\n              <div className={classes.paper}>\n                <h2 id=\"transition-modal-title\">Are you sure ?</h2>\n                <p id=\"transition-modal-description\">You want be able to revert this!</p>\n                <div className=\"deletess\">\n                  <div>\n                    <Button\n                      style={{ backgroundColor: 'red' }}\n                      onClick={handleClose2}\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Yes delete it?\n                    </Button>\n                  </div>\n                  <div>\n                    <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            ) : modals === 'edit' ? (\n              <div className={classes.paper}>\n                <h2 id=\"transition-modal-title\">Edit Category</h2>\n                <div className=\"middle\">\n                  <p>Name</p>\n                  <input\n                    type={'text'}\n                    value={name}\n                    onChange={(e) => setname(e.target.value)}\n                    placeholder=\"Enter name\"\n                  />\n                </div>\n                <div className=\"deletess\">\n                  <Button variant=\"contained\" onClick={handleClose}>\n                    Close\n                  </Button>\n                  <Button onClick={handleClose3} variant=\"contained\" color=\"primary\">\n                    Save\n                  </Button>\n                </div>\n              </div>\n            ) : null}\n          </Fade>\n        </Modal>\n      </div>\n    </TableContainer>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}