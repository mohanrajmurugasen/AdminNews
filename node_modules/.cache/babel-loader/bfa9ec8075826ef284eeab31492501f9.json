{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../../../assets/css/allnews.css';import Autocomplete from'@material-ui/lab/Autocomplete';import{Button}from'@material-ui/core';import KeyboardArrowDownIcon from'@material-ui/icons/KeyboardArrowDown';import authAxios from'src/interceptors/interceptor';import{withStyles}from'@material-ui/core/styles';import Switch from'@material-ui/core/Switch';import Grid from'@material-ui/core/Grid';import{useForm}from'react-hook-form';import{Controller}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AntSwitch=withStyles(theme=>({root:{width:28,height:16,padding:0,display:'flex'},switchBase:{padding:2,color:theme.palette.grey[500],'&$checked':{transform:'translateX(12px)',color:theme.palette.common.white,'& + $track':{opacity:1,backgroundColor:theme.palette.primary.main,borderColor:theme.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:'none'},track:{border:\"1px solid \".concat(theme.palette.grey[500]),borderRadius:16/2,opacity:1,backgroundColor:theme.palette.common.white},checked:{}}))(Switch);export default function EditNews(_ref){let{setDirect,newsId}=_ref;const[category,setCategory]=useState([]);const[editor,seteditor]=useState([]);const[speciality,setspeciality]=useState([]);const[state,setState]=useState(null);const[state1,setState1]=useState(null);const{register,control,handleSubmit}=useForm();const[title,settitle]=useState(null);const[summary,setsummary]=useState(null);const[description,setdescription]=useState(null);const[video,setvideo]=useState(null);const[image,setimage]=useState();// const [category1, setcategory1] = useState(null)\n// const [speciality1, setspeciality1] = useState(null)\n// const [editor1, seteditor1] = useState(null)\nuseEffect(()=>{const fetch1=async()=>{await authAxios.get(\"getAllNewsById/\".concat(newsId)).then(res=>{settitle(res.data.title);setsummary(res.data.summary);setdescription(res.data.description);setvideo(res.data.video);// setimage(res.data.image)\nsetState1(res.data.publish);setState(res.data.breaking);// setcategory1(res.data.category1)\n// setspeciality1(res.data.speciality1)\n// seteditor1(res.data.editor1)\n}).catch(err=>{console.error(err.message);});};fetch1();},[newsId]);useEffect(()=>{const fetch=async()=>{await authAxios.get('allCategory').then(res=>{setCategory(res.data);}).catch(err=>{console.error(err.message);});await authAxios.get('getAllEditor').then(res=>{seteditor(res.data);}).catch(err=>{console.error(err.message);});await authAxios.get('allSpeciality').then(res=>{setspeciality(res.data);}).catch(err=>{console.error(err.message);});};fetch();},[]);const handleChange=event=>{setState(!state);};const handleChange1=event=>{setState1(!state1);};const onFileChange=event=>{setimage(event.target.files[0]);};const onSubmit=data=>{const formData=new FormData();formData.append('title',title);formData.append('summary',summary);formData.append('description',description);formData.append('category',data.category);formData.append('speciality',data.speciality);formData.append('reporter',data.reporter);formData.append('image',image);formData.append('video',video);formData.append('publish',state1);formData.append('breaking',state);authAxios.put(\"updateAllNews/\".concat(newsId),formData).then(res=>{alert(res.data);setDirect('');}).catch(err=>{console.error(err.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"create\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter title\",className:\"inputs\",value:title,onChange:e=>settitle(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Summary\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",className:\"inputsText\",value:summary,onChange:e=>setsummary(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",className:\"inputsText\",value:description,onChange:e=>setdescription(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"News Category\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"category\",defaultValue:\"false\",inputRef:register(),render:_ref2=>{let{field:{onChange}}=_ref2;return/*#__PURE__*/_jsx(Autocomplete,{id:\"custom-input-demo\",options:category.map(itm=>itm.name),onChange:(event,newValue)=>onChange(newValue),renderInput:params=>/*#__PURE__*/_jsxs(\"div\",{ref:params.InputProps.ref,style:{width:'100%',borderRadius:'4px',border:'1px solid darkgray'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Select\",...params.inputProps,className:\"autoCompletes\"}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"News Speciality\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"speciality\",defaultValue:\"false\",inputRef:register(),render:_ref3=>{let{field:{onChange}}=_ref3;return/*#__PURE__*/_jsx(Autocomplete,{id:\"custom-input-demo\",options:speciality.map(itm=>itm.name),onChange:(event,newValue)=>onChange(newValue),renderInput:params=>/*#__PURE__*/_jsxs(\"div\",{ref:params.InputProps.ref,style:{width:'100%',borderRadius:'4px',border:'1px solid darkgray'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Select\",...params.inputProps,className:\"autoCompletes\"}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"News Reporter\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"reporter\",defaultValue:\"false\",inputRef:register(),render:_ref4=>{let{field:{onChange}}=_ref4;return/*#__PURE__*/_jsx(Autocomplete,{id:\"custom-input-demo\",options:editor.map(itm=>itm.username),onChange:(event,newValue)=>onChange(newValue),renderInput:params=>/*#__PURE__*/_jsxs(\"div\",{ref:params.InputProps.ref,style:{width:'100%',borderRadius:'4px',border:'1px solid darkgray'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Select\",...params.inputProps,className:\"autoCompletes\"}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Video Link\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Paste here\",className:\"inputs\",value:video,onChange:e=>setvideo(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Images\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"switch\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"label2\",children:\"Publish/Unpublish\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'23px'},children:/*#__PURE__*/_jsx(Grid,{component:\"label\",container:true,alignItems:\"center\",spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(AntSwitch,{name:\"publish\",checked:state1,onChange:handleChange1})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"switch\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"label2\",children:\"Breaking News\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'23px'},children:/*#__PURE__*/_jsx(Grid,{component:\"label\",container:true,alignItems:\"center\",spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(AntSwitch,{name:\"breaking\",checked:state,onChange:handleChange})})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{style:{marginTop:'25px',backgroundColor:'green',color:'white'},variant:\"contained\",type:\"submit\",children:\"Update\"})})]})})});}","map":{"version":3,"sources":["/Users/apple/Desktop/Projects/NewsApplication/AdminNews/src/views/base/allnews/EditNews.js"],"names":["React","useEffect","useState","Autocomplete","Button","KeyboardArrowDownIcon","authAxios","withStyles","Switch","Grid","useForm","Controller","AntSwitch","theme","root","width","height","padding","display","switchBase","color","palette","grey","transform","common","white","opacity","backgroundColor","primary","main","borderColor","thumb","boxShadow","track","border","borderRadius","checked","EditNews","setDirect","newsId","category","setCategory","editor","seteditor","speciality","setspeciality","state","setState","state1","setState1","register","control","handleSubmit","title","settitle","summary","setsummary","description","setdescription","video","setvideo","image","setimage","fetch1","get","then","res","data","publish","breaking","catch","err","console","error","message","fetch","handleChange","event","handleChange1","onFileChange","target","files","onSubmit","formData","FormData","append","reporter","put","alert","e","value","field","onChange","map","itm","name","newValue","params","InputProps","ref","inputProps","username","marginTop"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,iCAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,sCAAlC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,UAAT,KAA2B,iBAA3B,C,wFAEA,KAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAEM,KAAD,GAAY,CACvCC,IAAI,CAAE,CACJC,KAAK,CAAE,EADH,CAEJC,MAAM,CAAE,EAFJ,CAGJC,OAAO,CAAE,CAHL,CAIJC,OAAO,CAAE,MAJL,CADiC,CAOvCC,UAAU,CAAE,CACVF,OAAO,CAAE,CADC,CAEVG,KAAK,CAAEP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAFG,CAGV,YAAa,CACXC,SAAS,CAAE,kBADA,CAEXH,KAAK,CAAEP,KAAK,CAACQ,OAAN,CAAcG,MAAd,CAAqBC,KAFjB,CAGX,aAAc,CACZC,OAAO,CAAE,CADG,CAEZC,eAAe,CAAEd,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBC,IAF3B,CAGZC,WAAW,CAAEjB,KAAK,CAACQ,OAAN,CAAcO,OAAd,CAAsBC,IAHvB,CAHH,CAHH,CAP2B,CAoBvCE,KAAK,CAAE,CACLhB,KAAK,CAAE,EADF,CAELC,MAAM,CAAE,EAFH,CAGLgB,SAAS,CAAE,MAHN,CApBgC,CAyBvCC,KAAK,CAAE,CACLC,MAAM,qBAAerB,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAAf,CADD,CAELa,YAAY,CAAE,GAAK,CAFd,CAGLT,OAAO,CAAE,CAHJ,CAILC,eAAe,CAAEd,KAAK,CAACQ,OAAN,CAAcG,MAAd,CAAqBC,KAJjC,CAzBgC,CA+BvCW,OAAO,CAAE,EA/B8B,CAAZ,CAAD,CAAV,CAgCd5B,MAhCc,CAAlB,CAkCA,cAAe,SAAS6B,CAAAA,QAAT,MAAyC,IAAvB,CAAEC,SAAF,CAAaC,MAAb,CAAuB,MACtD,KAAM,CAACC,QAAD,CAAWC,WAAX,EAA0BvC,QAAQ,CAAC,EAAD,CAAxC,CACA,KAAM,CAACwC,MAAD,CAASC,SAAT,EAAsBzC,QAAQ,CAAC,EAAD,CAApC,CACA,KAAM,CAAC0C,UAAD,CAAaC,aAAb,EAA8B3C,QAAQ,CAAC,EAAD,CAA5C,CACA,KAAM,CAAC4C,KAAD,CAAQC,QAAR,EAAoB7C,QAAQ,CAAC,IAAD,CAAlC,CACA,KAAM,CAAC8C,MAAD,CAASC,SAAT,EAAsB/C,QAAQ,CAAC,IAAD,CAApC,CAEA,KAAM,CAAEgD,QAAF,CAAYC,OAAZ,CAAqBC,YAArB,EAAsC1C,OAAO,EAAnD,CAEA,KAAM,CAAC2C,KAAD,CAAQC,QAAR,EAAoBpD,QAAQ,CAAC,IAAD,CAAlC,CACA,KAAM,CAACqD,OAAD,CAAUC,UAAV,EAAwBtD,QAAQ,CAAC,IAAD,CAAtC,CACA,KAAM,CAACuD,WAAD,CAAcC,cAAd,EAAgCxD,QAAQ,CAAC,IAAD,CAA9C,CACA,KAAM,CAACyD,KAAD,CAAQC,QAAR,EAAoB1D,QAAQ,CAAC,IAAD,CAAlC,CACA,KAAM,CAAC2D,KAAD,CAAQC,QAAR,EAAoB5D,QAAQ,EAAlC,CACA;AACA;AACA;AAEAD,SAAS,CAAC,IAAM,CACd,KAAM8D,CAAAA,MAAM,CAAG,SAAY,CACzB,KAAMzD,CAAAA,SAAS,CACZ0D,GADG,0BACmBzB,MADnB,GAEH0B,IAFG,CAEGC,GAAD,EAAS,CACbZ,QAAQ,CAACY,GAAG,CAACC,IAAJ,CAASd,KAAV,CAAR,CACAG,UAAU,CAACU,GAAG,CAACC,IAAJ,CAASZ,OAAV,CAAV,CACAG,cAAc,CAACQ,GAAG,CAACC,IAAJ,CAASV,WAAV,CAAd,CACAG,QAAQ,CAACM,GAAG,CAACC,IAAJ,CAASR,KAAV,CAAR,CACA;AACAV,SAAS,CAACiB,GAAG,CAACC,IAAJ,CAASC,OAAV,CAAT,CACArB,QAAQ,CAACmB,GAAG,CAACC,IAAJ,CAASE,QAAV,CAAR,CACA;AACA;AACA;AACD,CAbG,EAcHC,KAdG,CAcIC,GAAD,EAAS,CACdC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB,EACD,CAhBG,CAAN,CAiBD,CAlBD,CAmBAX,MAAM,GACP,CArBQ,CAqBN,CAACxB,MAAD,CArBM,CAAT,CAuBAtC,SAAS,CAAC,IAAM,CACd,KAAM0E,CAAAA,KAAK,CAAG,SAAY,CACxB,KAAMrE,CAAAA,SAAS,CACZ0D,GADG,CACC,aADD,EAEHC,IAFG,CAEGC,GAAD,EAAS,CACbzB,WAAW,CAACyB,GAAG,CAACC,IAAL,CAAX,CACD,CAJG,EAKHG,KALG,CAKIC,GAAD,EAAS,CACdC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB,EACD,CAPG,CAAN,CASA,KAAMpE,CAAAA,SAAS,CACZ0D,GADG,CACC,cADD,EAEHC,IAFG,CAEGC,GAAD,EAAS,CACbvB,SAAS,CAACuB,GAAG,CAACC,IAAL,CAAT,CACD,CAJG,EAKHG,KALG,CAKIC,GAAD,EAAS,CACdC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB,EACD,CAPG,CAAN,CASA,KAAMpE,CAAAA,SAAS,CACZ0D,GADG,CACC,eADD,EAEHC,IAFG,CAEGC,GAAD,EAAS,CACbrB,aAAa,CAACqB,GAAG,CAACC,IAAL,CAAb,CACD,CAJG,EAKHG,KALG,CAKIC,GAAD,EAAS,CACdC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB,EACD,CAPG,CAAN,CAQD,CA3BD,CA4BAC,KAAK,GACN,CA9BQ,CA8BN,EA9BM,CAAT,CAgCA,KAAMC,CAAAA,YAAY,CAAIC,KAAD,EAAW,CAC9B9B,QAAQ,CAAC,CAACD,KAAF,CAAR,CACD,CAFD,CAIA,KAAMgC,CAAAA,aAAa,CAAID,KAAD,EAAW,CAC/B5B,SAAS,CAAC,CAACD,MAAF,CAAT,CACD,CAFD,CAIA,KAAM+B,CAAAA,YAAY,CAAIF,KAAD,EAAW,CAC9Bf,QAAQ,CAACe,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAR,CACD,CAFD,CAIA,KAAMC,CAAAA,QAAQ,CAAIf,IAAD,EAAU,CACzB,KAAMgB,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBhC,KAAzB,EACA8B,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA2B9B,OAA3B,EACA4B,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+B5B,WAA/B,EACA0B,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BlB,IAAI,CAAC3B,QAAjC,EACA2C,QAAQ,CAACE,MAAT,CAAgB,YAAhB,CAA8BlB,IAAI,CAACvB,UAAnC,EACAuC,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BlB,IAAI,CAACmB,QAAjC,EACAH,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBxB,KAAzB,EACAsB,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyB1B,KAAzB,EACAwB,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA2BrC,MAA3B,EACAmC,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BvC,KAA5B,EAEAxC,SAAS,CACNiF,GADH,yBACwBhD,MADxB,EACkC4C,QADlC,EAEGlB,IAFH,CAESC,GAAD,EAAS,CACbsB,KAAK,CAACtB,GAAG,CAACC,IAAL,CAAL,CACA7B,SAAS,CAAC,EAAD,CAAT,CACD,CALH,EAMGgC,KANH,CAMUC,GAAD,EAAS,CACdC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB,EACD,CARH,EASD,CAtBD,CAwBA,mBACE,YAAK,SAAS,CAAC,QAAf,uBACE,kCACE,cAAM,QAAQ,CAAEtB,YAAY,CAAC8B,QAAD,CAA5B,wBACE,oCACE,cAAO,SAAS,CAAC,OAAjB,mBADF,cAEE,aAFF,cAGE,cACE,WAAW,CAAC,aADd,CAEE,SAAS,CAAC,QAFZ,CAGE,KAAK,CAAE7B,KAHT,CAIE,QAAQ,CAAGoC,CAAD,EAAOnC,QAAQ,CAACmC,CAAC,CAACT,MAAF,CAASU,KAAV,CAJ3B,EAHF,GADF,cAWE,oCACE,cAAO,SAAS,CAAC,OAAjB,qBADF,cAEE,aAFF,cAGE,iBACE,IAAI,CAAC,GADP,CAEE,SAAS,CAAC,YAFZ,CAGE,KAAK,CAAEnC,OAHT,CAIE,QAAQ,CAAGkC,CAAD,EAAOjC,UAAU,CAACiC,CAAC,CAACT,MAAF,CAASU,KAAV,CAJ7B,EAHF,GAXF,cAqBE,oCACE,cAAO,SAAS,CAAC,OAAjB,yBADF,cAEE,aAFF,cAGE,iBACE,IAAI,CAAC,GADP,CAEE,SAAS,CAAC,YAFZ,CAGE,KAAK,CAAEjC,WAHT,CAIE,QAAQ,CAAGgC,CAAD,EAAO/B,cAAc,CAAC+B,CAAC,CAACT,MAAF,CAASU,KAAV,CAJjC,EAHF,GArBF,cA+BE,oCACE,cAAO,SAAS,CAAC,OAAjB,2BADF,cAEE,aAFF,cAGE,KAAC,UAAD,EACE,OAAO,CAAEvC,OADX,CAEE,IAAI,CAAC,UAFP,CAGE,YAAY,CAAC,OAHf,CAIE,QAAQ,CAAED,QAAQ,EAJpB,CAKE,MAAM,CAAE,WAAC,CAAEyC,KAAK,CAAE,CAAEC,QAAF,CAAT,CAAD,0BACN,KAAC,YAAD,EACE,EAAE,CAAC,mBADL,CAEE,OAAO,CAAEpD,QAAQ,CAACqD,GAAT,CAAcC,GAAD,EAASA,GAAG,CAACC,IAA1B,CAFX,CAGE,QAAQ,CAAE,CAAClB,KAAD,CAAQmB,QAAR,GAAqBJ,QAAQ,CAACI,QAAD,CAHzC,CAIE,WAAW,CAAGC,MAAD,eACX,aACE,GAAG,CAAEA,MAAM,CAACC,UAAP,CAAkBC,GADzB,CAEE,KAAK,CAAE,CACLpF,KAAK,CAAE,MADF,CAELoB,YAAY,CAAE,KAFT,CAGLD,MAAM,CAAE,oBAHH,CAFT,wBAQE,cACE,WAAW,CAAC,QADd,IAEM+D,MAAM,CAACG,UAFb,CAGE,SAAS,CAAC,eAHZ,EARF,cAaE,KAAC,qBAAD,IAbF,GALJ,EADM,EALV,EAHF,GA/BF,cAiEE,oCACE,cAAO,SAAS,CAAC,OAAjB,6BADF,cAEE,aAFF,cAGE,KAAC,UAAD,EACE,OAAO,CAAEjD,OADX,CAEE,IAAI,CAAC,YAFP,CAGE,YAAY,CAAC,OAHf,CAIE,QAAQ,CAAED,QAAQ,EAJpB,CAKE,MAAM,CAAE,WAAC,CAAEyC,KAAK,CAAE,CAAEC,QAAF,CAAT,CAAD,0BACN,KAAC,YAAD,EACE,EAAE,CAAC,mBADL,CAEE,OAAO,CAAEhD,UAAU,CAACiD,GAAX,CAAgBC,GAAD,EAASA,GAAG,CAACC,IAA5B,CAFX,CAGE,QAAQ,CAAE,CAAClB,KAAD,CAAQmB,QAAR,GAAqBJ,QAAQ,CAACI,QAAD,CAHzC,CAIE,WAAW,CAAGC,MAAD,eACX,aACE,GAAG,CAAEA,MAAM,CAACC,UAAP,CAAkBC,GADzB,CAEE,KAAK,CAAE,CACLpF,KAAK,CAAE,MADF,CAELoB,YAAY,CAAE,KAFT,CAGLD,MAAM,CAAE,oBAHH,CAFT,wBAQE,cACE,WAAW,CAAC,QADd,IAEM+D,MAAM,CAACG,UAFb,CAGE,SAAS,CAAC,eAHZ,EARF,cAaE,KAAC,qBAAD,IAbF,GALJ,EADM,EALV,EAHF,GAjEF,cAmGE,oCACE,cAAO,SAAS,CAAC,OAAjB,2BADF,cAEE,aAFF,cAGE,KAAC,UAAD,EACE,OAAO,CAAEjD,OADX,CAEE,IAAI,CAAC,UAFP,CAGE,YAAY,CAAC,OAHf,CAIE,QAAQ,CAAED,QAAQ,EAJpB,CAKE,MAAM,CAAE,WAAC,CAAEyC,KAAK,CAAE,CAAEC,QAAF,CAAT,CAAD,0BACN,KAAC,YAAD,EACE,EAAE,CAAC,mBADL,CAEE,OAAO,CAAElD,MAAM,CAACmD,GAAP,CAAYC,GAAD,EAASA,GAAG,CAACO,QAAxB,CAFX,CAGE,QAAQ,CAAE,CAACxB,KAAD,CAAQmB,QAAR,GAAqBJ,QAAQ,CAACI,QAAD,CAHzC,CAIE,WAAW,CAAGC,MAAD,eACX,aACE,GAAG,CAAEA,MAAM,CAACC,UAAP,CAAkBC,GADzB,CAEE,KAAK,CAAE,CACLpF,KAAK,CAAE,MADF,CAELoB,YAAY,CAAE,KAFT,CAGLD,MAAM,CAAE,oBAHH,CAFT,wBAQE,cACE,WAAW,CAAC,QADd,IAEM+D,MAAM,CAACG,UAFb,CAGE,SAAS,CAAC,eAHZ,EARF,cAaE,KAAC,qBAAD,IAbF,GALJ,EADM,EALV,EAHF,GAnGF,cAqIE,oCACE,cAAO,SAAS,CAAC,OAAjB,wBADF,cAEE,aAFF,cAGE,cACE,WAAW,CAAC,YADd,CAEE,SAAS,CAAC,QAFZ,CAGE,KAAK,CAAEzC,KAHT,CAIE,QAAQ,CAAG8B,CAAD,EAAO7B,QAAQ,CAAC6B,CAAC,CAACT,MAAF,CAASU,KAAV,CAJ3B,EAHF,GArIF,cA+IE,oCACE,cAAO,SAAS,CAAC,OAAjB,oBADF,cAEE,aAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEX,YAA7B,EAHF,GA/IF,cAoJE,aAAK,SAAS,CAAC,QAAf,wBACE,kCACE,cAAO,SAAS,CAAC,QAAjB,+BADF,EADF,cAIE,YAAK,KAAK,CAAE,CAAEuB,SAAS,CAAE,MAAb,CAAZ,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,OAAhB,CAAwB,SAAS,KAAjC,CAAkC,UAAU,CAAC,QAA7C,CAAsD,OAAO,CAAE,CAA/D,uBACE,KAAC,IAAD,EAAM,IAAI,KAAV,uBACE,KAAC,SAAD,EAAW,IAAI,CAAC,SAAhB,CAA0B,OAAO,CAAEtD,MAAnC,CAA2C,QAAQ,CAAE8B,aAArD,EADF,EADF,EADF,EAJF,GApJF,cAgKE,aAAK,SAAS,CAAC,QAAf,wBACE,kCACE,cAAO,SAAS,CAAC,QAAjB,2BADF,EADF,cAIE,YAAK,KAAK,CAAE,CAAEwB,SAAS,CAAE,MAAb,CAAZ,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,OAAhB,CAAwB,SAAS,KAAjC,CAAkC,UAAU,CAAC,QAA7C,CAAsD,OAAO,CAAE,CAA/D,uBACE,KAAC,IAAD,EAAM,IAAI,KAAV,uBACE,KAAC,SAAD,EAAW,IAAI,CAAC,UAAhB,CAA2B,OAAO,CAAExD,KAApC,CAA2C,QAAQ,CAAE8B,YAArD,EADF,EADF,EADF,EAJF,GAhKF,cA4KE,kCACE,KAAC,MAAD,EACE,KAAK,CAAE,CAAE0B,SAAS,CAAE,MAAb,CAAqB3E,eAAe,CAAE,OAAtC,CAA+CP,KAAK,CAAE,OAAtD,CADT,CAEE,OAAO,CAAC,WAFV,CAGE,IAAI,CAAC,QAHP,oBADF,EA5KF,GADF,EADF,EADF,CA4LD","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../../assets/css/allnews.css'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport { Button } from '@material-ui/core'\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\nimport PropTypes from 'prop-types'\nimport authAxios from 'src/interceptors/interceptor'\nimport { withStyles } from '@material-ui/core/styles'\nimport Switch from '@material-ui/core/Switch'\nimport Grid from '@material-ui/core/Grid'\nimport { useForm } from 'react-hook-form'\nimport { Controller } from 'react-hook-form'\n\nconst AntSwitch = withStyles((theme) => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex',\n  },\n  switchBase: {\n    padding: 2,\n    color: theme.palette.grey[500],\n    '&$checked': {\n      transform: 'translateX(12px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.main,\n        borderColor: theme.palette.primary.main,\n      },\n    },\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none',\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white,\n  },\n  checked: {},\n}))(Switch)\n\nexport default function EditNews({ setDirect, newsId }) {\n  const [category, setCategory] = useState([])\n  const [editor, seteditor] = useState([])\n  const [speciality, setspeciality] = useState([])\n  const [state, setState] = useState(null)\n  const [state1, setState1] = useState(null)\n\n  const { register, control, handleSubmit } = useForm()\n\n  const [title, settitle] = useState(null)\n  const [summary, setsummary] = useState(null)\n  const [description, setdescription] = useState(null)\n  const [video, setvideo] = useState(null)\n  const [image, setimage] = useState()\n  // const [category1, setcategory1] = useState(null)\n  // const [speciality1, setspeciality1] = useState(null)\n  // const [editor1, seteditor1] = useState(null)\n\n  useEffect(() => {\n    const fetch1 = async () => {\n      await authAxios\n        .get(`getAllNewsById/${newsId}`)\n        .then((res) => {\n          settitle(res.data.title)\n          setsummary(res.data.summary)\n          setdescription(res.data.description)\n          setvideo(res.data.video)\n          // setimage(res.data.image)\n          setState1(res.data.publish)\n          setState(res.data.breaking)\n          // setcategory1(res.data.category1)\n          // setspeciality1(res.data.speciality1)\n          // seteditor1(res.data.editor1)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n    }\n    fetch1()\n  }, [newsId])\n\n  useEffect(() => {\n    const fetch = async () => {\n      await authAxios\n        .get('allCategory')\n        .then((res) => {\n          setCategory(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n\n      await authAxios\n        .get('getAllEditor')\n        .then((res) => {\n          seteditor(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n\n      await authAxios\n        .get('allSpeciality')\n        .then((res) => {\n          setspeciality(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n    }\n    fetch()\n  }, [])\n\n  const handleChange = (event) => {\n    setState(!state)\n  }\n\n  const handleChange1 = (event) => {\n    setState1(!state1)\n  }\n\n  const onFileChange = (event) => {\n    setimage(event.target.files[0])\n  }\n\n  const onSubmit = (data) => {\n    const formData = new FormData()\n    formData.append('title', title)\n    formData.append('summary', summary)\n    formData.append('description', description)\n    formData.append('category', data.category)\n    formData.append('speciality', data.speciality)\n    formData.append('reporter', data.reporter)\n    formData.append('image', image)\n    formData.append('video', video)\n    formData.append('publish', state1)\n    formData.append('breaking', state)\n\n    authAxios\n      .put(`updateAllNews/${newsId}`, formData)\n      .then((res) => {\n        alert(res.data)\n        setDirect('')\n      })\n      .catch((err) => {\n        console.error(err.message)\n      })\n  }\n\n  return (\n    <div className=\"create\">\n      <div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div>\n            <label className=\"label\">Title</label>\n            <br />\n            <input\n              placeholder=\"Enter title\"\n              className=\"inputs\"\n              value={title}\n              onChange={(e) => settitle(e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"label\">Summary</label>\n            <br />\n            <textarea\n              rows=\"4\"\n              className=\"inputsText\"\n              value={summary}\n              onChange={(e) => setsummary(e.target.value)}\n            ></textarea>\n          </div>\n          <div>\n            <label className=\"label\">Description</label>\n            <br />\n            <textarea\n              rows=\"4\"\n              className=\"inputsText\"\n              value={description}\n              onChange={(e) => setdescription(e.target.value)}\n            ></textarea>\n          </div>\n          <div>\n            <label className=\"label\">News Category</label>\n            <br />\n            <Controller\n              control={control}\n              name=\"category\"\n              defaultValue=\"false\"\n              inputRef={register()}\n              render={({ field: { onChange } }) => (\n                <Autocomplete\n                  id=\"custom-input-demo\"\n                  options={category.map((itm) => itm.name)}\n                  onChange={(event, newValue) => onChange(newValue)}\n                  renderInput={(params) => (\n                    <div\n                      ref={params.InputProps.ref}\n                      style={{\n                        width: '100%',\n                        borderRadius: '4px',\n                        border: '1px solid darkgray',\n                      }}\n                    >\n                      <input\n                        placeholder=\"Select\"\n                        {...params.inputProps}\n                        className=\"autoCompletes\"\n                      />\n                      <KeyboardArrowDownIcon />\n                    </div>\n                  )}\n                />\n              )}\n            />\n          </div>\n          <div>\n            <label className=\"label\">News Speciality</label>\n            <br />\n            <Controller\n              control={control}\n              name=\"speciality\"\n              defaultValue=\"false\"\n              inputRef={register()}\n              render={({ field: { onChange } }) => (\n                <Autocomplete\n                  id=\"custom-input-demo\"\n                  options={speciality.map((itm) => itm.name)}\n                  onChange={(event, newValue) => onChange(newValue)}\n                  renderInput={(params) => (\n                    <div\n                      ref={params.InputProps.ref}\n                      style={{\n                        width: '100%',\n                        borderRadius: '4px',\n                        border: '1px solid darkgray',\n                      }}\n                    >\n                      <input\n                        placeholder=\"Select\"\n                        {...params.inputProps}\n                        className=\"autoCompletes\"\n                      />\n                      <KeyboardArrowDownIcon />\n                    </div>\n                  )}\n                />\n              )}\n            />\n          </div>\n          <div>\n            <label className=\"label\">News Reporter</label>\n            <br />\n            <Controller\n              control={control}\n              name=\"reporter\"\n              defaultValue=\"false\"\n              inputRef={register()}\n              render={({ field: { onChange } }) => (\n                <Autocomplete\n                  id=\"custom-input-demo\"\n                  options={editor.map((itm) => itm.username)}\n                  onChange={(event, newValue) => onChange(newValue)}\n                  renderInput={(params) => (\n                    <div\n                      ref={params.InputProps.ref}\n                      style={{\n                        width: '100%',\n                        borderRadius: '4px',\n                        border: '1px solid darkgray',\n                      }}\n                    >\n                      <input\n                        placeholder=\"Select\"\n                        {...params.inputProps}\n                        className=\"autoCompletes\"\n                      />\n                      <KeyboardArrowDownIcon />\n                    </div>\n                  )}\n                />\n              )}\n            />\n          </div>\n          <div>\n            <label className=\"label\">Video Link</label>\n            <br />\n            <input\n              placeholder=\"Paste here\"\n              className=\"inputs\"\n              value={video}\n              onChange={(e) => setvideo(e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"label\">Images</label>\n            <br />\n            <input type=\"file\" onChange={onFileChange} />\n          </div>\n          <div className=\"switch\">\n            <div>\n              <label className=\"label2\">Publish/Unpublish</label>\n            </div>\n            <div style={{ marginTop: '23px' }}>\n              <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                <Grid item>\n                  <AntSwitch name=\"publish\" checked={state1} onChange={handleChange1} />\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n          <div className=\"switch\">\n            <div>\n              <label className=\"label2\">Breaking News</label>\n            </div>\n            <div style={{ marginTop: '23px' }}>\n              <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                <Grid item>\n                  <AntSwitch name=\"breaking\" checked={state} onChange={handleChange} />\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n          <div>\n            <Button\n              style={{ marginTop: '25px', backgroundColor: 'green', color: 'white' }}\n              variant=\"contained\"\n              type=\"submit\"\n            >\n              Update\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nEditNews.propTypes = {\n  setDirect: PropTypes.node.isRequired,\n  newsId: PropTypes.node.isRequired,\n}\n"]},"metadata":{},"sourceType":"module"}