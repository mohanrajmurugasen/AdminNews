{"ast":null,"code":"import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import EditIcon from'@material-ui/icons/Edit';import DeleteIcon from'@material-ui/icons/Delete';import{Button}from'@material-ui/core';import Modal from'@material-ui/core/Modal';import Backdrop from'@material-ui/core/Backdrop';import Fade from'@material-ui/core/Fade';import{withStyles}from'@material-ui/core/styles';import Switch from'@material-ui/core/Switch';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import authAxios from'src/interceptors/interceptor';import baseURL from'src/interceptors/baseurl';import ReactPaginate from'react-paginate';import FastForwardIcon from'@material-ui/icons/FastForward';import FastRewindIcon from'@material-ui/icons/FastRewind';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AntSwitch=withStyles(theme=>({root:{width:28,height:16,padding:0,display:'flex'},switchBase:{padding:2,color:theme.palette.grey[500],'&$checked':{transform:'translateX(12px)',color:theme.palette.common.white,'& + $track':{opacity:1,backgroundColor:theme.palette.primary.main,borderColor:theme.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:'none'},track:{border:\"1px solid \".concat(theme.palette.grey[500]),borderRadius:16/2,opacity:1,backgroundColor:theme.palette.common.white},checked:{}}))(Switch);const useStyles=makeStyles(theme=>({modal:{display:'flex',alignItems:'center',justifyContent:'center'},paper:{backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)},table:{minWidth:650}}));export default function AllNewsTable(_ref){let{setDirect,setnewsId}=_ref;const classes=useStyles();const[open,setOpen]=useState(false);const[data,setData]=useState([]);const[deleteId,setdeleteId]=useState(null);const[pageNumber,setPageNumber]=useState(0);const userPerPage=5;const pagesVisited=pageNumber*userPerPage;const pageCount=Math.ceil(data.length/userPerPage);const handleOpen=x=>{setdeleteId(x);setOpen(true);};const handleClose=()=>{setOpen(false);};const handleChange1=async(x,y)=>{await authAxios.put(\"updateAllNewsPublish/\".concat(x),{publish:!y}).then(res=>{}).catch(err=>console.error(err.message));};const handleChange=async(x,y)=>{await authAxios.put(\"updateAllNewsBreaking/\".concat(x),{breaking:!y}).then(res=>{}).catch(err=>console.error(err.message));};useEffect(()=>{authAxios.get('getAllNews').then(res=>{setData(res.data);}).catch(err=>console.error(err.message));},[data]);const deleted=()=>{authAxios.delete(\"deleteAllNews/\".concat(deleteId)).then(res=>{setOpen(false);}).catch(err=>console.error(err.message));};const changePage=_ref2=>{let{selected}=_ref2;setPageNumber(selected);};return/*#__PURE__*/_jsxs(TableContainer,{component:Paper,children:[/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Image\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Title\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Summary\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Publish Status\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Breaking News\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:data.sort((a,b)=>b.id-a.id).slice(pagesVisited,pagesVisited+userPerPage).map((row,index)=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:index+1}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(baseURL).concat(row.image),alt:\"mn\",style:{width:'100%'}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"p\",{style:{height:'100px',overflow:'hidden',justifyContent:'center'},children:row.title})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"p\",{style:{height:'100px',overflow:'hidden',justifyContent:'center'},children:row.summary})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Typography,{component:\"div\",children:/*#__PURE__*/_jsx(Grid,{component:\"label\",container:true,alignItems:\"center\",spacing:1,children:/*#__PURE__*/_jsx(Grid,{style:{margin:'auto'},item:true,children:/*#__PURE__*/_jsx(AntSwitch,{checked:row.publish,onClick:()=>handleChange1(row.id,row.publish),name:\"checkedC\"})})})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Typography,{component:\"div\",children:/*#__PURE__*/_jsx(Grid,{component:\"label\",container:true,alignItems:\"center\",spacing:1,children:/*#__PURE__*/_jsx(Grid,{style:{margin:'auto'},item:true,children:/*#__PURE__*/_jsx(AntSwitch,{checked:row.breaking,onClick:()=>handleChange(row.id,row.breaking),name:\"checkedC\"})})})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(EditIcon,{onClick:()=>{setnewsId(row.id);setDirect('edit');},color:\"primary\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DeleteIcon,{onClick:()=>handleOpen(row.id),color:\"secondary\"})})]})})]},row.name))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:/*#__PURE__*/_jsx(FastRewindIcon,{style:{color:'#2f3c54d4'}}),nextLabel:/*#__PURE__*/_jsx(FastForwardIcon,{style:{color:'#2f3c54d4'}}),pageCount:pageCount,onPageChange:changePage,containerClassName:'paginationBttns',previousLinkClassName:'previousBttn',nextLinkClassName:'nextBttn',disabledClassName:'paginationDisabled',activeClassName:'paginationActive'})}),/*#__PURE__*/_jsx(\"div\",{className:\"modals\",children:/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{style:{width:'40%'},in:open,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(\"h2\",{id:\"transition-modal-title\",children:\"Are you sure ?\"}),/*#__PURE__*/_jsx(\"p\",{id:\"transition-modal-description\",children:\"You want be able to revert this!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"deletess\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'red'},variant:\"contained\",color:\"primary\",onClick:deleted,children:\"Yes delete it?\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,variant:\"contained\",color:\"primary\",children:\"Cancel\"})})]})]})})})})]});}","map":{"version":3,"sources":["/Users/apple/Desktop/Projects/NewsApplication/AdminNews/src/views/base/allnews/AllNewsTable.js"],"names":["React","useEffect","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","EditIcon","DeleteIcon","Button","Modal","Backdrop","Fade","withStyles","Switch","Grid","Typography","authAxios","baseURL","ReactPaginate","FastForwardIcon","FastRewindIcon","AntSwitch","theme","root","width","height","padding","display","switchBase","color","palette","grey","transform","common","white","opacity","backgroundColor","primary","main","borderColor","thumb","boxShadow","track","border","borderRadius","checked","useStyles","modal","alignItems","justifyContent","paper","background","shadows","spacing","table","minWidth","AllNewsTable","setDirect","setnewsId","classes","open","setOpen","data","setData","deleteId","setdeleteId","pageNumber","setPageNumber","userPerPage","pagesVisited","pageCount","Math","ceil","length","handleOpen","x","handleClose","handleChange1","y","put","publish","then","res","catch","err","console","error","message","handleChange","breaking","get","deleted","delete","changePage","selected","sort","a","b","id","slice","map","row","index","image","overflow","title","summary","margin","name","timeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { Button } from '@material-ui/core'\nimport Modal from '@material-ui/core/Modal'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport Fade from '@material-ui/core/Fade'\nimport { withStyles } from '@material-ui/core/styles'\nimport Switch from '@material-ui/core/Switch'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport PropTypes from 'prop-types'\nimport authAxios from 'src/interceptors/interceptor'\nimport baseURL from 'src/interceptors/baseurl'\nimport ReactPaginate from 'react-paginate'\nimport FastForwardIcon from '@material-ui/icons/FastForward'\nimport FastRewindIcon from '@material-ui/icons/FastRewind'\n\nconst AntSwitch = withStyles((theme) => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex',\n  },\n  switchBase: {\n    padding: 2,\n    color: theme.palette.grey[500],\n    '&$checked': {\n      transform: 'translateX(12px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.main,\n        borderColor: theme.palette.primary.main,\n      },\n    },\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none',\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white,\n  },\n  checked: {},\n}))(Switch)\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  table: {\n    minWidth: 650,\n  },\n}))\n\nexport default function AllNewsTable({ setDirect, setnewsId }) {\n  const classes = useStyles()\n  const [open, setOpen] = useState(false)\n  const [data, setData] = useState([])\n  const [deleteId, setdeleteId] = useState(null)\n  const [pageNumber, setPageNumber] = useState(0)\n\n  const userPerPage = 5\n  const pagesVisited = pageNumber * userPerPage\n\n  const pageCount = Math.ceil(data.length / userPerPage)\n\n  const handleOpen = (x) => {\n    setdeleteId(x)\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleChange1 = async (x, y) => {\n    await authAxios\n      .put(`updateAllNewsPublish/${x}`, { publish: !y })\n      .then((res) => {})\n      .catch((err) => console.error(err.message))\n  }\n\n  const handleChange = async (x, y) => {\n    await authAxios\n      .put(`updateAllNewsBreaking/${x}`, { breaking: !y })\n      .then((res) => {})\n      .catch((err) => console.error(err.message))\n  }\n\n  useEffect(() => {\n    authAxios\n      .get('getAllNews')\n      .then((res) => {\n        setData(res.data)\n      })\n      .catch((err) => console.error(err.message))\n  }, [data])\n\n  const deleted = () => {\n    authAxios\n      .delete(`deleteAllNews/${deleteId}`)\n      .then((res) => {\n        setOpen(false)\n      })\n      .catch((err) => console.error(err.message))\n  }\n\n  const changePage = ({ selected }) => {\n    setPageNumber(selected)\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\">#</TableCell>\n            <TableCell align=\"center\">Image</TableCell>\n            <TableCell align=\"center\">Title</TableCell>\n            <TableCell align=\"center\">Summary</TableCell>\n            <TableCell align=\"center\">Publish Status</TableCell>\n            <TableCell align=\"center\">Breaking News</TableCell>\n            <TableCell align=\"center\">Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {data\n            .sort((a, b) => b.id - a.id)\n            .slice(pagesVisited, pagesVisited + userPerPage)\n            .map((row, index) => (\n              <TableRow key={row.name}>\n                <TableCell align=\"center\">{index + 1}</TableCell>\n                <TableCell align=\"center\">\n                  <img src={`${baseURL}${row.image}`} alt=\"mn\" style={{ width: '100%' }} />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <p\n                    style={{\n                      height: '100px',\n                      overflow: 'hidden',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    {row.title}\n                  </p>\n                </TableCell>\n                <TableCell align=\"center\">\n                  <p\n                    style={{\n                      height: '100px',\n                      overflow: 'hidden',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    {row.summary}\n                  </p>\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Typography component=\"div\">\n                    <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                      <Grid style={{ margin: 'auto' }} item>\n                        <AntSwitch\n                          checked={row.publish}\n                          onClick={() => handleChange1(row.id, row.publish)}\n                          name=\"checkedC\"\n                        />\n                      </Grid>\n                    </Grid>\n                  </Typography>\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Typography component=\"div\">\n                    <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                      <Grid style={{ margin: 'auto' }} item>\n                        <AntSwitch\n                          checked={row.breaking}\n                          onClick={() => handleChange(row.id, row.breaking)}\n                          name=\"checkedC\"\n                        />\n                      </Grid>\n                    </Grid>\n                  </Typography>\n                </TableCell>\n                <TableCell align=\"center\">\n                  <div className=\"action\">\n                    <div>\n                      <EditIcon\n                        onClick={() => {\n                          setnewsId(row.id)\n                          setDirect('edit')\n                        }}\n                        color=\"primary\"\n                      />\n                    </div>\n                    <div>\n                      <DeleteIcon onClick={() => handleOpen(row.id)} color=\"secondary\" />\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n      <div className=\"number\">\n        <ReactPaginate\n          previousLabel={<FastRewindIcon style={{ color: '#2f3c54d4' }} />}\n          nextLabel={<FastForwardIcon style={{ color: '#2f3c54d4' }} />}\n          pageCount={pageCount}\n          onPageChange={changePage}\n          containerClassName={'paginationBttns'}\n          previousLinkClassName={'previousBttn'}\n          nextLinkClassName={'nextBttn'}\n          disabledClassName={'paginationDisabled'}\n          activeClassName={'paginationActive'}\n        />\n      </div>\n      <div className=\"modals\">\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          className={classes.modal}\n          open={open}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500,\n          }}\n        >\n          <Fade style={{ width: '40%' }} in={open}>\n            <div className={classes.paper}>\n              <h2 id=\"transition-modal-title\">Are you sure ?</h2>\n              <p id=\"transition-modal-description\">You want be able to revert this!</p>\n              <div className=\"deletess\">\n                <div>\n                  <Button\n                    style={{ backgroundColor: 'red' }}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={deleted}\n                  >\n                    Yes delete it?\n                  </Button>\n                </div>\n                <div>\n                  <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\n                    Cancel\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </Fade>\n        </Modal>\n      </div>\n    </TableContainer>\n  )\n}\n\nAllNewsTable.propTypes = {\n  setDirect: PropTypes.node.isRequired,\n  setnewsId: PropTypes.node.isRequired,\n}\n"]},"metadata":{},"sourceType":"module"}