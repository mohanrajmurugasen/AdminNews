{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../../../assets/css/allnews.css';import Autocomplete from'@material-ui/lab/Autocomplete';import{Button}from'@material-ui/core';import KeyboardArrowDownIcon from'@material-ui/icons/KeyboardArrowDown';import authAxios from'src/interceptors/interceptor';import{useForm}from'react-hook-form';import{Controller}from'react-hook-form';import{withStyles}from'@material-ui/core/styles';import Switch from'@material-ui/core/Switch';import Grid from'@material-ui/core/Grid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AntSwitch=withStyles(theme=>({root:{width:28,height:16,padding:0,display:'flex'},switchBase:{padding:2,color:theme.palette.grey[500],'&$checked':{transform:'translateX(12px)',color:theme.palette.common.white,'& + $track':{opacity:1,backgroundColor:theme.palette.primary.main,borderColor:theme.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:'none'},track:{border:\"1px solid \".concat(theme.palette.grey[500]),borderRadius:16/2,opacity:1,backgroundColor:theme.palette.common.white},checked:{}}))(Switch);export default function CreateNews(_ref){let{setDirect}=_ref;const[category,setCategory]=useState([]);const[editor,seteditor]=useState([]);const[speciality,setspeciality]=useState([]);const[state,setState]=useState(false);const[state1,setState1]=useState(false);const[image,setimage]=useState();const{register,control,handleSubmit}=useForm();useEffect(()=>{const fetch=async()=>{await authAxios.get('allCategory').then(res=>{setCategory(res.data);}).catch(err=>{console.error(err.message);});await authAxios.get('getAllEditor').then(res=>{seteditor(res.data);console.log(res.data);}).catch(err=>{console.error(err.message);});await authAxios.get('allSpeciality').then(res=>{setspeciality(res.data);}).catch(err=>{console.error(err.message);});};fetch();},[]);const handleChange=event=>{setState(!state);};const handleChange1=event=>{setState1(!state1);};const onFileChange=event=>{setimage(event.target.files[0]);};const onSubmit=data=>{const formData=new FormData();formData.append('title',data.title);formData.append('summary',data.summary);formData.append('description',data.description);formData.append('category',data.category);formData.append('speciality',data.speciality);formData.append('reporter',data.reporter);formData.append('image',image);formData.append('video',data.video);formData.append('publish',state1);formData.append('breaking',state);authAxios.post('/addAllNews',formData).then(res=>{if(res.data!=='News already exist'){alert(res.data);setDirect('');}else{alert(res.data);}}).catch(err=>console.error(err.message));};return/*#__PURE__*/_jsx(\"div\",{className:\"create\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{...register('title'),name:\"title\",placeholder:\"Enter title\",className:\"inputs\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Summary\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{...register('summary'),name:\"summary\",rows:\"4\",className:\"inputsText\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{...register('description'),name:\"description\",rows:\"4\",className:\"inputsText\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"News Category\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"category\",defaultValue:\"false\",inputRef:register(),render:_ref2=>{let{field:{onChange}}=_ref2;return/*#__PURE__*/_jsx(Autocomplete,{id:\"custom-input-demo\",options:category.map(itm=>itm.name),onChange:(event,newValue)=>onChange(newValue),renderInput:params=>/*#__PURE__*/_jsxs(\"div\",{ref:params.InputProps.ref,style:{width:'100%',borderRadius:'4px',border:'1px solid darkgray'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Select\",...params.inputProps,className:\"autoCompletes\"}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"News Speciality\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"speciality\",defaultValue:\"false\",inputRef:register(),render:_ref3=>{let{field:{onChange}}=_ref3;return/*#__PURE__*/_jsx(Autocomplete,{id:\"custom-input-demo\",options:speciality.map(itm=>itm.name),onChange:(event,newValue)=>onChange(newValue),renderInput:params=>/*#__PURE__*/_jsxs(\"div\",{ref:params.InputProps.ref,style:{width:'100%',borderRadius:'4px',border:'1px solid darkgray'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Select\",...params.inputProps,className:\"autoCompletes\"}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"News Reporter\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"reporter\",defaultValue:\"false\",inputRef:register(),render:_ref4=>{let{field:{onChange}}=_ref4;return/*#__PURE__*/_jsx(Autocomplete,{id:\"custom-input-demo\",options:editor.map(itm=>itm.username),onChange:(event,newValue)=>onChange(newValue),renderInput:params=>/*#__PURE__*/_jsxs(\"div\",{ref:params.InputProps.ref,style:{width:'100%',borderRadius:'4px',border:'1px solid darkgray'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Select\",...params.inputProps,className:\"autoCompletes\"}),/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Video Link\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{...register('video'),name:\"video\",placeholder:\"Paste here\",className:\"inputs\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Images\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{...register('image'),name:\"image\",type:\"file\",onChange:onFileChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"switch\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"label2\",children:\"Publish/Unpublish\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'23px'},children:/*#__PURE__*/_jsx(Grid,{component:\"label\",container:true,alignItems:\"center\",spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(AntSwitch,{name:\"publish\",checked:state1,onChange:handleChange1})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"switch\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"label2\",children:\"Breaking News\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'23px'},children:/*#__PURE__*/_jsx(Grid,{component:\"label\",container:true,alignItems:\"center\",spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(AntSwitch,{name:\"breaking\",checked:state,onChange:handleChange})})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{marginTop:'25px',backgroundColor:'green',color:'white'},variant:\"contained\",children:\"Save\"})})]})})});}","map":{"version":3,"sources":["/Users/apple/Desktop/Projects/NewsApplication/AdminNews/src/views/base/allnews/CreateNews.js"],"names":["React","useEffect","useState","Autocomplete","Button","KeyboardArrowDownIcon","authAxios","useForm","Controller","withStyles","Switch","Grid","AntSwitch","theme","root","width","height","padding","display","switchBase","color","palette","grey","transform","common","white","opacity","backgroundColor","primary","main","borderColor","thumb","boxShadow","track","border","borderRadius","checked","CreateNews","setDirect","category","setCategory","editor","seteditor","speciality","setspeciality","state","setState","state1","setState1","image","setimage","register","control","handleSubmit","fetch","get","then","res","data","catch","err","console","error","message","log","handleChange","event","handleChange1","onFileChange","target","files","onSubmit","formData","FormData","append","title","summary","description","reporter","video","post","alert","field","onChange","map","itm","name","newValue","params","InputProps","ref","inputProps","username","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../../assets/css/allnews.css'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport { Button } from '@material-ui/core'\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\nimport PropTypes from 'prop-types'\nimport authAxios from 'src/interceptors/interceptor'\nimport { useForm } from 'react-hook-form'\nimport { Controller } from 'react-hook-form'\nimport { withStyles } from '@material-ui/core/styles'\nimport Switch from '@material-ui/core/Switch'\nimport Grid from '@material-ui/core/Grid'\n\nconst AntSwitch = withStyles((theme) => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex',\n  },\n  switchBase: {\n    padding: 2,\n    color: theme.palette.grey[500],\n    '&$checked': {\n      transform: 'translateX(12px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.main,\n        borderColor: theme.palette.primary.main,\n      },\n    },\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none',\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white,\n  },\n  checked: {},\n}))(Switch)\n\nexport default function CreateNews({ setDirect }) {\n  const [category, setCategory] = useState([])\n  const [editor, seteditor] = useState([])\n  const [speciality, setspeciality] = useState([])\n  const [state, setState] = useState(false)\n  const [state1, setState1] = useState(false)\n  const [image, setimage] = useState()\n\n  const { register, control, handleSubmit } = useForm()\n\n  useEffect(() => {\n    const fetch = async () => {\n      await authAxios\n        .get('allCategory')\n        .then((res) => {\n          setCategory(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n\n      await authAxios\n        .get('getAllEditor')\n        .then((res) => {\n          seteditor(res.data)\n          console.log(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n\n      await authAxios\n        .get('allSpeciality')\n        .then((res) => {\n          setspeciality(res.data)\n        })\n        .catch((err) => {\n          console.error(err.message)\n        })\n    }\n    fetch()\n  }, [])\n\n  const handleChange = (event) => {\n    setState(!state)\n  }\n\n  const handleChange1 = (event) => {\n    setState1(!state1)\n  }\n\n  const onFileChange = (event) => {\n    setimage(event.target.files[0])\n  }\n\n  const onSubmit = (data) => {\n    const formData = new FormData()\n    formData.append('title', data.title)\n    formData.append('summary', data.summary)\n    formData.append('description', data.description)\n    formData.append('category', data.category)\n    formData.append('speciality', data.speciality)\n    formData.append('reporter', data.reporter)\n    formData.append('image', image)\n    formData.append('video', data.video)\n    formData.append('publish', state1)\n    formData.append('breaking', state)\n\n    authAxios\n      .post('/addAllNews', formData)\n      .then((res) => {\n        if (res.data !== 'News already exist') {\n          alert(res.data)\n          setDirect('')\n        } else {\n          alert(res.data)\n        }\n      })\n      .catch((err) => console.error(err.message))\n  }\n\n  return (\n    <div className=\"create\">\n      <div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div>\n            <label className=\"label\">Title</label>\n            <br />\n            <input\n              {...register('title')}\n              name=\"title\"\n              placeholder=\"Enter title\"\n              className=\"inputs\"\n            />\n          </div>\n          <div>\n            <label className=\"label\">Summary</label>\n            <br />\n            <textarea\n              {...register('summary')}\n              name=\"summary\"\n              rows=\"4\"\n              className=\"inputsText\"\n            ></textarea>\n          </div>\n          <div>\n            <label className=\"label\">Description</label>\n            <br />\n            <textarea\n              {...register('description')}\n              name=\"description\"\n              rows=\"4\"\n              className=\"inputsText\"\n            ></textarea>\n          </div>\n          <div>\n            <label className=\"label\">News Category</label>\n            <br />\n            <Controller\n              control={control}\n              name=\"category\"\n              defaultValue=\"false\"\n              inputRef={register()}\n              render={({ field: { onChange } }) => (\n                <Autocomplete\n                  id=\"custom-input-demo\"\n                  options={category.map((itm) => itm.name)}\n                  onChange={(event, newValue) => onChange(newValue)}\n                  renderInput={(params) => (\n                    <div\n                      ref={params.InputProps.ref}\n                      style={{\n                        width: '100%',\n                        borderRadius: '4px',\n                        border: '1px solid darkgray',\n                      }}\n                    >\n                      <input\n                        placeholder=\"Select\"\n                        {...params.inputProps}\n                        className=\"autoCompletes\"\n                      />\n                      <KeyboardArrowDownIcon />\n                    </div>\n                  )}\n                />\n              )}\n            />\n          </div>\n          <div>\n            <label className=\"label\">News Speciality</label>\n            <br />\n            <Controller\n              control={control}\n              name=\"speciality\"\n              defaultValue=\"false\"\n              inputRef={register()}\n              render={({ field: { onChange } }) => (\n                <Autocomplete\n                  id=\"custom-input-demo\"\n                  options={speciality.map((itm) => itm.name)}\n                  onChange={(event, newValue) => onChange(newValue)}\n                  renderInput={(params) => (\n                    <div\n                      ref={params.InputProps.ref}\n                      style={{\n                        width: '100%',\n                        borderRadius: '4px',\n                        border: '1px solid darkgray',\n                      }}\n                    >\n                      <input\n                        placeholder=\"Select\"\n                        {...params.inputProps}\n                        className=\"autoCompletes\"\n                      />\n                      <KeyboardArrowDownIcon />\n                    </div>\n                  )}\n                />\n              )}\n            />\n          </div>\n          <div>\n            <label className=\"label\">News Reporter</label>\n            <br />\n            <Controller\n              control={control}\n              name=\"reporter\"\n              defaultValue=\"false\"\n              inputRef={register()}\n              render={({ field: { onChange } }) => (\n                <Autocomplete\n                  id=\"custom-input-demo\"\n                  options={editor.map((itm) => itm.username)}\n                  onChange={(event, newValue) => onChange(newValue)}\n                  renderInput={(params) => (\n                    <div\n                      ref={params.InputProps.ref}\n                      style={{\n                        width: '100%',\n                        borderRadius: '4px',\n                        border: '1px solid darkgray',\n                      }}\n                    >\n                      <input\n                        placeholder=\"Select\"\n                        {...params.inputProps}\n                        className=\"autoCompletes\"\n                      />\n                      <KeyboardArrowDownIcon />\n                    </div>\n                  )}\n                />\n              )}\n            />\n          </div>\n          <div>\n            <label className=\"label\">Video Link</label>\n            <br />\n            <input\n              {...register('video')}\n              name=\"video\"\n              placeholder=\"Paste here\"\n              className=\"inputs\"\n            />\n          </div>\n          <div>\n            <label className=\"label\">Images</label>\n            <br />\n            <input {...register('image')} name=\"image\" type=\"file\" onChange={onFileChange} />\n          </div>\n          <div className=\"switch\">\n            <div>\n              <label className=\"label2\">Publish/Unpublish</label>\n            </div>\n            <div style={{ marginTop: '23px' }}>\n              <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                <Grid item>\n                  <AntSwitch name=\"publish\" checked={state1} onChange={handleChange1} />\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n          <div className=\"switch\">\n            <div>\n              <label className=\"label2\">Breaking News</label>\n            </div>\n            <div style={{ marginTop: '23px' }}>\n              <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                <Grid item>\n                  <AntSwitch name=\"breaking\" checked={state} onChange={handleChange} />\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n          <div>\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '25px', backgroundColor: 'green', color: 'white' }}\n              variant=\"contained\"\n            >\n              Save\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nCreateNews.propTypes = {\n  setDirect: PropTypes.node.isRequired,\n}\n"]},"metadata":{},"sourceType":"module"}